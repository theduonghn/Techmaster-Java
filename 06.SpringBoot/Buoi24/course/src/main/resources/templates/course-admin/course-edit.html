<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head th:replace="fragments/course-admin-fragments :: head-form('Cập nhật khoá học')">
</head>

<body>
<!--HEADER-->
<div th:replace="~{fragments/course-admin-fragments :: header}"></div>

<!-- BODY -->
<div class="course-list mt-4 mb-4">
    <div class="container">
        <form th:object="${courseEditRequest}" action="" method="post" enctype="multipart/form-data">
            <div class="mb-4 d-flex justify-content-between">
                <div>
                    <button class="btn-custom btn-update-course" id="btn-update-course">
                        <span><i class="fa-solid fa-plus"></i></span>
                        Cập nhật
                    </button>
                    <a th:href="@{/admin/courses}" class="btn-custom btn-refresh">
                        <span><i class="fa-solid fa-angle-left"></i></span>
                        Quay lại
                    </a>
                </div>
                <div>
                    <a th:href="@{|/admin/courses/*{id}/course-delete|}" class="btn btn-custom bg-danger" id="btn-delete-course">
                        <span><i class="fa-solid fa-trash-can"></i></span>
                        Xóa
                    </a>
                </div>
            </div>

            <div class="course-list-inner p-2">
                <div class="row">
                    <div class="col-md-8">
                        <div class="mb-3">
                            <label for="course-name" class="form-label fw-bold">Tên khóa học</label>
                            <input th:field="*{name}" type="text" class="form-control" id="course-name">
                        </div>
                        <div class="mb-3">
                            <label for="course-description" class="form-label fw-bold">Mô tả</label>
                            <textarea th:field="*{description}" class="form-control" id="course-description"
                                      rows="10"></textarea>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="course-type" class="form-label fw-bold">Hình thức học</label>
                            <select th:field="*{type}" class="form-control" id="course-type">
                                <option hidden value="">- Chọn hình thức học</option>
                                <option th:value="online">Online</option>
                                <option th:value="onlab">Onlab</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="course-topic" class="form-label fw-bold">Chủ đề</label>
                            <select th:field="*{topics}" class="form-control" id="course-topic" multiple="multiple">
                                <option th:each="topic : ${topics}" th:value="${topic.id}" th:text="${topic.name}">
                                    Backend
                                </option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="course-supporter" class="form-label fw-bold">Tư vấn viên</label>
                            <select th:field="*{supporter}" class="form-control" id="course-supporter">
                                <option hidden value="">- Chọn tư vấn viên</option>
                                <option th:each="user : ${users}" th:value="${user.id}" th:text="${user.name}">Nguyễn
                                    Văn A
                                </option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label fw-bold">Thumnail</label>
                            <div class="course-logo-preview mb-3 rounded">
                                <img th:src="${thumbnail}" id="course-logo-preview" class="rounded">
                            </div>

                            <label for="course-logo-input" class="btn btn-warning">Đổi ảnh</label>
                            <input th:field="*{image}" type="file" id="course-logo-input" class="d-none">
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- axios -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<!-- select2 -->
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<script>
        const courseTopic = $("#course-topic");

        // Kích hoạt select2
        courseTopic.select2({
            placeholder: "- Chọn chủ đề",
        });

        initCourse(course);


</script>
</body>

</html>